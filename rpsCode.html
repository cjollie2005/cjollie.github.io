<html>
<head>
<title>RPS</title>
<script>
//if the html pages and the location stuff doesnt work, use the rpsCode.html file instead
/*
Programed by Connor Baglin
2/28/2020
P.4
Rock, Paper, Scissors
todo try class
*/
//variables
let a;
let b;
let c;
let win;
let playerScore = 0;
let aiScore = 0;
let buttonPush;
let repeats = 0;
let playChoice;
let buttonChoice;

let tell=function() {
	sAlert(playerScore, aiScore);
}  
let otherTell=function(x,y){
	if(x==0&&y==0){
		alert('You didnt play?');
	}else if(x!=1&&y!=1){	
		if (x > y) {
			alert(`You won! The score was ${x} to ${y}!`);
		} else if (x < y) {
			alert(`You lost. You had ${x} points and lost by ${y-x} points.`);
		} else if (x == y) {
			playChoice=confirm(`The score is all tied up at ${x} to ${y}. Would you like to play again to break it?`);
		} else {
			alert("scorealerterror");
		}
	}else{
		if (x > y) {
			alert(`You won! The score was ${x} to ${y}!`);
		} else if (x < y) {
			alert(`You lost. You had ${x} point and the computer had ${y} points.`);
		} else if (x == y) {
			playChoice=confirm(`The score is all tied up at ${x} to ${y}. Would you like to play again to break it?`);
		} else {
			alert("scorealerterror");
		}
	}
}
//random number generator
let numGen=function() {
	min = Math.ceil(0);
	max = Math.floor(2);
	return Math.floor(Math.random()*(max-min+1));
}
//choice
let sayPlay=function(){
	otherMain(true);
}
//score stuff
let count=function(thing) {
	if (thing === true) {
		playerScore++;
	} else if (thing === false) {
		aiScore++;
	}
}
let sAlert=function(x, y) {
	if(x==0&&y==0){
		alert('Please play before trying to look at the score...');
	}else if(x!=1&&y!=1){	
		if (x > y) {
			alert(`You are in the lead! The score is ${x} to ${y}!`);
		} else if (x < y) {
			alert(`You are losing. You have ${x} points and are losing by ${y-x} points.`);
		} else if (x == y) {
			alert(`The score is all tied up at ${x} to ${y}.`);
		} else {
			alert("scorealerterror");
		}
	}else{
		if (x > y) {
			alert(`You are winning! The score is ${x} to ${y}!`);
		} else if (x < y) {
			alert(`You are behind. You have ${x} point and the computer has ${y} points.`);
		} else if (x == y) {
			alert(`The score is all tied up at ${x} to ${y}.`);
		} else {
			alert("scorealerterror");
		}
	}
}



	//compare
let compare=function(x, y) {
	if (x == 0 && y == 2) {
		win = true;
	} else if (x == 1 && y == 0) {
		win = true;
	} else if (x == 2 && y == 1) {
		win = true;
	} else if (x == y) {
		win = "tie";
	} else {
		win = false;
	}
	return win;
}
	//decide
let decide=function(bool) {
	let aiAnswer='';
	if (b==0) {
		aiAnswer = "rock";
	} else if (b==1) {
		aiAnswer = "paper";
	} else if (b==2) {
		aiAnswer = "scissors";
	} else {
		alert(b);
	}
	if (bool == true) {
		alert("You won! The computer chose " + aiAnswer + ".");
	} else if (bool == false) {
		alert("You lost. The computer chose " + aiAnswer + ".");
	} else if (bool == "tie") {
		alert("You tied with the computer. You chose " + aiAnswer + ".");
	} else {
		alert("reply error");
	}
}

//main 
function main() {
	a=buttonPush;
	b=numGen();
	c=compare(a,b)
	decide(c);
	count(win);
	repeats++;
	console.log(repeats);
};  

function otherMain(choice){
	
	while(choice){
		let qwert=prompt('what is your choice?');
		qwert=qwert.toLowerCase();
		if(qwert=='rock'){
			buttonPush=0;
		}else if(qwert=='paper'){
			buttonPush=1;
		}else if(qwert=='scissors'){
			buttonPush=2;
		}
		main();
		choice=confirm('Would you like to play again');
	}
	otherTell(playerScore, aiScore)
}
</script>                                                                                                      
</head>
<body>
<center>
<h1>Rock, Paper, Scissors</h1>
<p>Press play to start</p>
 <button onclick=sayPlay()>Play</button>
 </center>
 </body>
 </html>